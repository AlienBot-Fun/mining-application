var waxjs=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";function r(t){return 0!=(128&t[t.length-1])}function i(t){for(var e=1,n=0;n<t.length;++n){var r=(255&~t[n])+e;t[n]=r,e=r>>8}}function a(t,e){for(var n=new Uint8Array(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);if(i<"0".charCodeAt(0)||i>"9".charCodeAt(0))throw new Error("invalid number");for(var a=i-"0".charCodeAt(0),o=0;o<t;++o){var s=10*n[o]+a;n[o]=s,a=s>>8}if(a)throw new Error("number is out of range")}return n}function o(t,e){void 0===e&&(e=1);for(var n=Array(e).fill("0".charCodeAt(0)),r=t.length-1;r>=0;--r){for(var i=t[r],a=0;a<n.length;++a){var o=(n[a]-"0".charCodeAt(0)<<8)+i;n[a]="0".charCodeAt(0)+o%10,i=o/10|0}for(;i;)n.push("0".charCodeAt(0)+i%10),i=i/10|0}return n.reverse(),String.fromCharCode.apply(String,g(n))}function s(t,e){for(var n=new Uint8Array(t),r=0;r<e.length;++r){var i=x[e.charCodeAt(r)];if(i<0)throw new Error("invalid base-58 value");for(var a=0;a<t;++a){var o=58*n[a]+i;n[a]=o,i=o>>8}if(i)throw new Error("base-58 value is out of range")}return n.reverse(),n}function c(t,e){var n,r,i,a;void 0===e&&(e=1);var o=[];try{for(var s=b(t),c=s.next();!c.done;c=s.next()){for(var u=c.value,l=0;l<o.length;++l){var h=(x[o[l]]<<8)+u;o[l]=w.charCodeAt(h%58),u=h/58|0}for(;u;)o.push(w.charCodeAt(u%58)),u=u/58|0}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var f=b(t),d=f.next();!d.done&&!d.value;d=f.next())o.push("1".charCodeAt(0))}catch(t){i={error:t}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return o.reverse(),String.fromCharCode.apply(String,g(o))}function u(t,e){for(var n=new Uint8Array(t.length+e.length),r=0;r<t.length;++r)n[r]=t[r];for(r=0;r<e.length;++r)n[t.length+r]=e.charCodeAt(r);return m(n)}function l(t,e,n,r){var i=s(n+4,t),a={type:e,data:new Uint8Array(i.buffer,0,n)},o=new Uint8Array(u(a.data,r));if(o[0]!==i[n+0]||o[1]!==i[n+1]||o[2]!==i[n+2]||o[3]!==i[n+3])throw new Error("checksum doesn't match");return a}function h(t,e,n){for(var r=new Uint8Array(u(t.data,e)),i=new Uint8Array(t.data.length+4),a=0;a<t.data.length;++a)i[a]=t.data[a];for(a=0;a<4;++a)i[a+t.data.length]=r[a];return n+c(i)}function f(t){if("string"!=typeof t)throw new Error("expected string containing public key");if("EOS"===t.substr(0,3)){for(var n=s(e.publicKeyDataSize+4,t.substr(3)),r={type:v.k1,data:new Uint8Array(e.publicKeyDataSize)},i=0;i<e.publicKeyDataSize;++i)r.data[i]=n[i];var a=new Uint8Array(m(r.data));if(a[0]!==n[e.publicKeyDataSize]||a[1]!==n[34]||a[2]!==n[35]||a[3]!==n[36])throw new Error("checksum doesn't match");return r}if("PUB_K1_"===t.substr(0,7))return l(t.substr(7),v.k1,e.publicKeyDataSize,"K1");if("PUB_R1_"===t.substr(0,7))return l(t.substr(7),v.r1,e.publicKeyDataSize,"R1");throw new Error("unrecognized public key format")}function d(t){if(t.type===v.k1&&t.data.length===e.publicKeyDataSize)return h(t,"K1","PUB_K1_");if(t.type===v.r1&&t.data.length===e.publicKeyDataSize)return h(t,"R1","PUB_R1_");throw new Error("unrecognized public key format")}function p(t){return"EOS"===t.substr(0,3)?d(f(t)):t}var y=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},g=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t},b=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var v,m=n(6).RIPEMD160.hash,w="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=function(){for(var t=Array(256).fill(-1),e=0;e<w.length;++e)t[w.charCodeAt(e)]=e;return t}(),A=function(){for(var t=Array(256).fill(-1),e=0;e<_.length;++e)t[_.charCodeAt(e)]=e;return t["=".charCodeAt(0)]=0,t}();e.isNegative=r,e.negate=i,e.decimalToBinary=a,e.signedDecimalToBinary=function(t,e){var n="-"===e[0];n&&(e=e.substr(1));var o=a(t,e);if(n){if(i(o),!r(o))throw new Error("number is out of range")}else if(r(o))throw new Error("number is out of range");return o},e.binaryToDecimal=o,e.signedBinaryToDecimal=function(t,e){if(void 0===e&&(e=1),r(t)){var n=t.slice();return i(n),"-"+o(n,e)}return o(t,e)},e.base58ToBinary=s,e.binaryToBase58=c,e.base64ToBinary=function(t){var e=t.length;if(1==(3&e)&&"="===t[e-1]&&(e-=1),0!=(3&e))throw new Error("base-64 value is not padded correctly");var n=e>>2,r=3*n;e>0&&"="===t[e-1]&&("="===t[e-2]?r-=2:r-=1);for(var i=new Uint8Array(r),a=0;a<n;++a){var o=A[t.charCodeAt(4*a+0)],s=A[t.charCodeAt(4*a+1)],c=A[t.charCodeAt(4*a+2)],u=A[t.charCodeAt(4*a+3)];i[3*a+0]=o<<2|s>>4,3*a+1<r&&(i[3*a+1]=(15&s)<<4|c>>2),3*a+2<r&&(i[3*a+2]=(3&c)<<6|u)}return i},function(t){t[t.k1=0]="k1",t[t.r1=1]="r1"}(v=e.KeyType||(e.KeyType={})),e.publicKeyDataSize=33,e.privateKeyDataSize=32,e.signatureDataSize=65,e.stringToPublicKey=f,e.publicKeyToString=d,e.convertLegacyPublicKey=p,e.convertLegacyPublicKeys=function(t){return t.map(p)},e.stringToPrivateKey=function(t){if("string"!=typeof t)throw new Error("expected string containing private key");if("PVT_R1_"===t.substr(0,7))return l(t.substr(7),v.r1,e.privateKeyDataSize,"R1");throw new Error("unrecognized private key format")},e.privateKeyToString=function(t){if(t.type===v.r1)return h(t,"R1","PVT_R1_");throw new Error("unrecognized private key format")},e.stringToSignature=function(t){if("string"!=typeof t)throw new Error("expected string containing signature");if("SIG_K1_"===t.substr(0,7))return l(t.substr(7),v.k1,e.signatureDataSize,"K1");if("SIG_R1_"===t.substr(0,7))return l(t.substr(7),v.r1,e.signatureDataSize,"R1");throw new Error("unrecognized signature format")},e.signatureToString=function(t){if(t.type===v.k1)return h(t,"K1","SIG_K1_");if(t.type===v.r1)return h(t,"R1","SIG_R1_");throw new Error("unrecognized signature format")}},function(t,e,n){"use strict";function r(t){var e=Date.parse(t);if(Number.isNaN(e))throw new Error("Invalid time format");return e}function i(t){return Math.round(1e3*r(t+"Z"))}function a(t){var e=new Date(t/1e3).toISOString();return e.substr(0,e.length-1)}function o(t){return Math.round(r(t+"Z")/1e3)}function s(t){var e=new Date(1e3*t).toISOString();return e.substr(0,e.length-1)}function c(t){return Math.round((r(t+"Z")-9466848e5)/500)}function u(t){var e=new Date(500*t+9466848e5).toISOString();return e.substr(0,e.length-1)}function l(t){if("string"!=typeof t)throw new Error("Expected string containing symbol");var e=t.match(/^([0-9]+),([A-Z]+)$/);if(!e)throw new Error("Invalid symbol");return{name:e[2],precision:+e[1]}}function h(t){var e=t.name;return t.precision+","+e}function f(t){var e,n,r="";try{for(var i=K(t),a=i.next();!a.done;a=i.next())r+=("00"+a.value.toString(16)).slice(-2)}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r.toUpperCase()}function d(t){if("string"!=typeof t)throw new Error("Expected string containing hex digits");if(t.length%2)throw new Error("Odd number of hex digits");for(var e=t.length/2,n=new Uint8Array(e),r=0;r<e;++r){var i=parseInt(t.substr(2*r,2),16);if(Number.isNaN(i))throw new Error("Expected hex string");n[r]=i}return n}function p(t,e){throw new Error("Don't know how to serialize "+this.name)}function y(t){throw new Error("Don't know how to deserialize "+this.name)}function g(t,e,n,r){var i,a;if(void 0===n&&(n=new B),void 0===r&&(r=!0),"object"!=typeof e)throw new Error("expected object containing data: "+JSON.stringify(e));this.base&&this.base.serialize(t,e,n,r);try{for(var o=K(this.fields),s=o.next();!s.done;s=o.next()){var c=s.value;if(c.name in e){if(n.skippedBinaryExtension)throw new Error("unexpected "+this.name+"."+c.name);c.type.serialize(t,e[c.name],n,r&&c===this.fields[this.fields.length-1])}else{if(!r||!c.type.extensionOf)throw new Error("missing "+this.name+"."+c.name+" (type="+c.type.name+")");n.skippedBinaryExtension=!0}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}function b(t,e,n){var r,i,a;void 0===e&&(e=new B),void 0===n&&(n=!0),a=this.base?this.base.deserialize(t,e,n):{};try{for(var o=K(this.fields),s=o.next();!s.done;s=o.next()){var c=s.value;n&&c.type.extensionOf&&!t.haveReadData()?e.skippedBinaryExtension=!0:a[c.name]=c.type.deserialize(t,e,n)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function v(t,e,n,r){if(!Array.isArray(e)||2!==e.length||"string"!=typeof e[0])throw new Error('expected variant: ["type", value]');var i=this.fields.findIndex(function(t){return t.name===e[0]});if(i<0)throw new Error('type "'+e[0]+'" is not valid for variant');t.pushVaruint32(i),this.fields[i].type.serialize(t,e[1],n,r)}function m(t,e,n){var r=t.getVaruint32();if(r>=this.fields.length)throw new Error("type index "+r+" is not valid for variant");var i=this.fields[r];return[i.name,i.type.deserialize(t,e,n)]}function w(t,e,n,r){var i,a;t.pushVaruint32(e.length);try{for(var o=K(e),s=o.next();!s.done;s=o.next()){var c=s.value;this.arrayOf.serialize(t,c,n,!1)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}function _(t,e,n){for(var r=t.getVaruint32(),i=[],a=0;a<r;++a)i.push(this.arrayOf.deserialize(t,e,!1));return i}function x(t,e,n,r){null==e?t.push(0):(t.push(1),this.optionalOf.serialize(t,e,n,r))}function A(t,e,n){return t.get()?this.optionalOf.deserialize(t,e,n):null}function S(t,e,n,r){this.extensionOf.serialize(t,e,n,r)}function z(t,e,n){return this.extensionOf.deserialize(t,e,n)}function E(t){return O({name:"<missing name>",aliasOfName:"",arrayOf:null,optionalOf:null,extensionOf:null,baseName:"",base:null,fields:[],serialize:p,deserialize:y},t)}function k(t,e){if(Number.isNaN(+t)||Number.isNaN(+e)||"number"!=typeof t&&"string"!=typeof t)throw new Error("Expected number");if(+t!=+e)throw new Error("Number is out of range");return+t}function T(t,e){var n=t.get(e);if(n&&n.aliasOfName)return T(t,n.aliasOfName);if(n)return n;if(e.endsWith("[]"))return E({name:e,arrayOf:T(t,e.substr(0,e.length-2)),serialize:w,deserialize:_});if(e.endsWith("?"))return E({name:e,optionalOf:T(t,e.substr(0,e.length-1)),serialize:x,deserialize:A});if(e.endsWith("$"))return E({name:e,extensionOf:T(t,e.substr(0,e.length-1)),serialize:S,deserialize:z});throw new Error("Unknown type: "+e)}function U(t,e,n,r,i,a){var o=t.actions.get(n);if(!o)throw new Error("Unknown action "+n+" in contract "+e);var s=new N({textEncoder:i,textDecoder:a});return o.serialize(s,r),f(s.asUint8Array())}function P(t,e,n,r,i,a){var o=t.actions.get(n);if("string"==typeof r&&(r=d(r)),!o)throw new Error("Unknown action "+n+" in contract "+e);var s=new N({textDecoder:a,textEncoder:i});return s.pushArray(r),o.deserialize(s)}var O=this&&this.__assign||function(){return(O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},C=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},D=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(C(arguments[e]));return t},K=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var R=n(0),B=function(t){void 0===t&&(t={}),this.skippedBinaryExtension=!1,this.options=t};e.SerializerState=B;var N=function(){function t(t){var e=void 0===t?{}:t,n=e.textEncoder,r=e.textDecoder,i=e.array;this.readPos=0,this.array=i||new Uint8Array(1024),this.length=i?i.length:0,this.textEncoder=n||new TextEncoder,this.textDecoder=r||new TextDecoder("utf-8",{fatal:!0})}return t.prototype.reserve=function(t){if(!(this.length+t<=this.array.length)){for(var e=this.array.length;this.length+t>e;)e=Math.ceil(1.5*e);var n=new Uint8Array(e);n.set(this.array),this.array=n}},t.prototype.haveReadData=function(){return this.readPos<this.length},t.prototype.restartRead=function(){this.readPos=0},t.prototype.asUint8Array=function(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.length)},t.prototype.pushArray=function(t){this.reserve(t.length),this.array.set(t,this.length),this.length+=t.length},t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.pushArray(t)},t.prototype.get=function(){if(this.readPos<this.length)return this.array[this.readPos++];throw new Error("Read past end of buffer")},t.prototype.pushUint8ArrayChecked=function(t,e){if(t.length!==e)throw new Error("Binary data has incorrect size");this.pushArray(t)},t.prototype.getUint8Array=function(t){if(this.readPos+t>this.length)throw new Error("Read past end of buffer");var e=new Uint8Array(this.array.buffer,this.array.byteOffset+this.readPos,t);return this.readPos+=t,e},t.prototype.pushUint16=function(t){this.push(t>>0&255,t>>8&255)},t.prototype.getUint16=function(){var t=0;return t|=this.get()<<0,t|=this.get()<<8},t.prototype.pushUint32=function(t){this.push(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},t.prototype.getUint32=function(){var t=0;return t|=this.get()<<0,t|=this.get()<<8,t|=this.get()<<16,(t|=this.get()<<24)>>>0},t.prototype.pushNumberAsUint64=function(t){this.pushUint32(t>>>0),this.pushUint32(Math.floor(t/4294967296)>>>0)},t.prototype.getUint64AsNumber=function(){var t=this.getUint32();return 4294967296*(this.getUint32()>>>0)+(t>>>0)},t.prototype.pushVaruint32=function(t){for(;;){if(!(t>>>7)){this.push(t);break}this.push(128|127&t),t>>>=7}},t.prototype.getVaruint32=function(){for(var t=0,e=0;;){var n=this.get();if(t|=(127&n)<<e,e+=7,!(128&n))break}return t>>>0},t.prototype.pushVarint32=function(t){this.pushVaruint32(t<<1^t>>31)},t.prototype.getVarint32=function(){var t=this.getVaruint32();return 1&t?~t>>1|2147483648:t>>>1},t.prototype.pushFloat32=function(t){this.pushArray(new Uint8Array(new Float32Array([t]).buffer))},t.prototype.getFloat32=function(){return new Float32Array(this.getUint8Array(4).slice().buffer)[0]},t.prototype.pushFloat64=function(t){this.pushArray(new Uint8Array(new Float64Array([t]).buffer))},t.prototype.getFloat64=function(){return new Float64Array(this.getUint8Array(8).slice().buffer)[0]},t.prototype.pushName=function(t){function e(t){return t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)?t-"a".charCodeAt(0)+6:t>="1".charCodeAt(0)&&t<="5".charCodeAt(0)?t-"1".charCodeAt(0)+1:0}if("string"!=typeof t)throw new Error("Expected string containing name");for(var n=new Uint8Array(8),r=63,i=0;i<t.length;++i){var a=e(t.charCodeAt(i));r<5&&(a<<=1);for(var o=4;o>=0;--o)r>=0&&(n[Math.floor(r/8)]|=(a>>o&1)<<r%8,--r)}this.pushArray(n)},t.prototype.getName=function(){for(var t=this.getUint8Array(8),e="",n=63;n>=0;){for(var r=0,i=0;i<5;++i)n>=0&&(r=r<<1|t[Math.floor(n/8)]>>n%8&1,--n);e+=r>=6?String.fromCharCode(r+"a".charCodeAt(0)-6):r>=1?String.fromCharCode(r+"1".charCodeAt(0)-1):"."}for(;e.endsWith(".");)e=e.substr(0,e.length-1);return e},t.prototype.pushBytes=function(t){this.pushVaruint32(t.length),this.pushArray(t)},t.prototype.getBytes=function(){return this.getUint8Array(this.getVaruint32())},t.prototype.pushString=function(t){this.pushBytes(this.textEncoder.encode(t))},t.prototype.getString=function(){return this.textDecoder.decode(this.getBytes())},t.prototype.pushSymbolCode=function(t){if("string"!=typeof t)throw new Error("Expected string containing symbol_code");var e=[];for(e.push.apply(e,D(this.textEncoder.encode(t)));e.length<8;)e.push(0);this.pushArray(e.slice(0,8))},t.prototype.getSymbolCode=function(){var t,e=this.getUint8Array(8);for(t=0;t<e.length&&e[t];++t);return this.textDecoder.decode(new Uint8Array(e.buffer,e.byteOffset,t))},t.prototype.pushSymbol=function(t){var e=t.name,n=[255&t.precision];for(n.push.apply(n,D(this.textEncoder.encode(e)));n.length<8;)n.push(0);this.pushArray(n.slice(0,8))},t.prototype.getSymbol=function(){var t,e=this.get(),n=this.getUint8Array(7);for(t=0;t<n.length&&n[t];++t);return{name:this.textDecoder.decode(new Uint8Array(n.buffer,n.byteOffset,t)),precision:e}},t.prototype.pushAsset=function(t){if("string"!=typeof t)throw new Error("Expected string containing asset");var e=0,n="",r=0;"-"===(t=t.trim())[e]&&(n+="-",++e);for(var i=!1;e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0);)i=!0,n+=t[e],++e;if(!i)throw new Error("Asset must begin with a number");if("."===t[e])for(++e;e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0);)n+=t[e],++r,++e;var a=t.substr(e).trim();this.pushArray(R.signedDecimalToBinary(8,n)),this.pushSymbol({name:a,precision:r})},t.prototype.getAsset=function(){var t=this.getUint8Array(8),e=this.getSymbol(),n=e.name,r=e.precision,i=R.signedBinaryToDecimal(t,r+1);return r&&(i=i.substr(0,i.length-r)+"."+i.substr(i.length-r)),i+" "+n},t.prototype.pushPublicKey=function(t){var e=R.stringToPublicKey(t);this.push(e.type),this.pushArray(e.data)},t.prototype.getPublicKey=function(){var t=this.get(),e=this.getUint8Array(R.publicKeyDataSize);return R.publicKeyToString({type:t,data:e})},t.prototype.pushPrivateKey=function(t){var e=R.stringToPrivateKey(t);this.push(e.type),this.pushArray(e.data)},t.prototype.getPrivateKey=function(){var t=this.get(),e=this.getUint8Array(R.privateKeyDataSize);return R.privateKeyToString({type:t,data:e})},t.prototype.pushSignature=function(t){var e=R.stringToSignature(t);this.push(e.type),this.pushArray(e.data)},t.prototype.getSignature=function(){var t=this.get(),e=this.getUint8Array(R.signatureDataSize);return R.signatureToString({type:t,data:e})},t}();e.SerialBuffer=N,e.supportedAbiVersion=function(t){return t.startsWith("eosio::abi/1.")},e.dateToTimePoint=i,e.timePointToDate=a,e.dateToTimePointSec=o,e.timePointSecToDate=s,e.dateToBlockTimestamp=c,e.blockTimestampToDate=u,e.stringToSymbol=l,e.symbolToString=h,e.arrayToHex=f,e.hexToUint8Array=d,e.createInitialTypes=function(){var t=new Map(Object.entries({bool:E({name:"bool",serialize:function(t,e){if("boolean"!=typeof e)throw new Error("Expected true or false");t.push(e?1:0)},deserialize:function(t){return!!t.get()}}),uint8:E({name:"uint8",serialize:function(t,e){t.push(k(e,255&e))},deserialize:function(t){return t.get()}}),int8:E({name:"int8",serialize:function(t,e){t.push(k(e,e<<24>>24))},deserialize:function(t){return t.get()<<24>>24}}),uint16:E({name:"uint16",serialize:function(t,e){t.pushUint16(k(e,65535&e))},deserialize:function(t){return t.getUint16()}}),int16:E({name:"int16",serialize:function(t,e){t.pushUint16(k(e,e<<16>>16))},deserialize:function(t){return t.getUint16()<<16>>16}}),uint32:E({name:"uint32",serialize:function(t,e){t.pushUint32(k(e,e>>>0))},deserialize:function(t){return t.getUint32()}}),uint64:E({name:"uint64",serialize:function(t,e){t.pushArray(R.decimalToBinary(8,""+e))},deserialize:function(t){return R.binaryToDecimal(t.getUint8Array(8))}}),int64:E({name:"int64",serialize:function(t,e){t.pushArray(R.signedDecimalToBinary(8,""+e))},deserialize:function(t){return R.signedBinaryToDecimal(t.getUint8Array(8))}}),int32:E({name:"int32",serialize:function(t,e){t.pushUint32(k(e,0|e))},deserialize:function(t){return 0|t.getUint32()}}),varuint32:E({name:"varuint32",serialize:function(t,e){t.pushVaruint32(k(e,e>>>0))},deserialize:function(t){return t.getVaruint32()}}),varint32:E({name:"varint32",serialize:function(t,e){t.pushVarint32(k(e,0|e))},deserialize:function(t){return t.getVarint32()}}),uint128:E({name:"uint128",serialize:function(t,e){t.pushArray(R.decimalToBinary(16,""+e))},deserialize:function(t){return R.binaryToDecimal(t.getUint8Array(16))}}),int128:E({name:"int128",serialize:function(t,e){t.pushArray(R.signedDecimalToBinary(16,""+e))},deserialize:function(t){return R.signedBinaryToDecimal(t.getUint8Array(16))}}),float32:E({name:"float32",serialize:function(t,e){t.pushFloat32(e)},deserialize:function(t){return t.getFloat32()}}),float64:E({name:"float64",serialize:function(t,e){t.pushFloat64(e)},deserialize:function(t){return t.getFloat64()}}),float128:E({name:"float128",serialize:function(t,e){t.pushUint8ArrayChecked(d(e),16)},deserialize:function(t){return f(t.getUint8Array(16))}}),bytes:E({name:"bytes",serialize:function(t,e){e instanceof Uint8Array||Array.isArray(e)?t.pushBytes(e):t.pushBytes(d(e))},deserialize:function(t,e){return e&&e.options.bytesAsUint8Array?t.getBytes():f(t.getBytes())}}),string:E({name:"string",serialize:function(t,e){t.pushString(e)},deserialize:function(t){return t.getString()}}),name:E({name:"name",serialize:function(t,e){t.pushName(e)},deserialize:function(t){return t.getName()}}),time_point:E({name:"time_point",serialize:function(t,e){t.pushNumberAsUint64(i(e))},deserialize:function(t){return a(t.getUint64AsNumber())}}),time_point_sec:E({name:"time_point_sec",serialize:function(t,e){t.pushUint32(o(e))},deserialize:function(t){return s(t.getUint32())}}),block_timestamp_type:E({name:"block_timestamp_type",serialize:function(t,e){t.pushUint32(c(e))},deserialize:function(t){return u(t.getUint32())}}),symbol_code:E({name:"symbol_code",serialize:function(t,e){t.pushSymbolCode(e)},deserialize:function(t){return t.getSymbolCode()}}),symbol:E({name:"symbol",serialize:function(t,e){t.pushSymbol(l(e))},deserialize:function(t){return h(t.getSymbol())}}),asset:E({name:"asset",serialize:function(t,e){t.pushAsset(e)},deserialize:function(t){return t.getAsset()}}),checksum160:E({name:"checksum160",serialize:function(t,e){t.pushUint8ArrayChecked(d(e),20)},deserialize:function(t){return f(t.getUint8Array(20))}}),checksum256:E({name:"checksum256",serialize:function(t,e){t.pushUint8ArrayChecked(d(e),32)},deserialize:function(t){return f(t.getUint8Array(32))}}),checksum512:E({name:"checksum512",serialize:function(t,e){t.pushUint8ArrayChecked(d(e),64)},deserialize:function(t){return f(t.getUint8Array(64))}}),public_key:E({name:"public_key",serialize:function(t,e){t.pushPublicKey(e)},deserialize:function(t){return t.getPublicKey()}}),private_key:E({name:"private_key",serialize:function(t,e){t.pushPrivateKey(e)},deserialize:function(t){return t.getPrivateKey()}}),signature:E({name:"signature",serialize:function(t,e){t.pushSignature(e)},deserialize:function(t){return t.getSignature()}})}));return t.set("extended_asset",E({name:"extended_asset",baseName:"",fields:[{name:"quantity",typeName:"asset",type:t.get("asset")},{name:"contract",typeName:"name",type:t.get("name")}],serialize:g,deserialize:b})),t},e.getType=T,e.getTypesFromAbi=function(t,e){var n,r,i,a,o,s,c,u,l,h,f=new Map(t);if(e.types)try{for(var d=K(e.types),p=d.next();!p.done;p=d.next()){var y=p.value,w=y.new_type_name,_=y.type;f.set(w,E({name:w,aliasOfName:_}))}}catch(t){n={error:t}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}if(e.structs)try{for(var x=K(e.structs),A=x.next();!A.done;A=x.next()){var S=A.value,z=S.name,k=S.base,U=S.fields;f.set(z,E({name:z,baseName:k,fields:U.map(function(t){return{name:t.name,typeName:t.type,type:null}}),serialize:g,deserialize:b}))}}catch(t){i={error:t}}finally{try{A&&!A.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}if(e.variants)try{for(var P=K(e.variants),O=P.next();!O.done;O=P.next()){var D=O.value,R=D.name,B=D.types;f.set(R,E({name:R,fields:B.map(function(t){return{name:t,typeName:t,type:null}}),serialize:v,deserialize:m}))}}catch(t){o={error:t}}finally{try{O&&!O.done&&(s=P.return)&&s.call(P)}finally{if(o)throw o.error}}try{for(var N=K(f),j=N.next();!j.done;j=N.next()){var M=C(j.value,2);M[0],(_=M[1]).baseName&&(_.base=T(f,_.baseName));try{for(var I=K(_.fields),L=I.next();!L.done;L=I.next()){var V=L.value;V.type=T(f,V.typeName)}}catch(t){l={error:t}}finally{try{L&&!L.done&&(h=I.return)&&h.call(I)}finally{if(l)throw l.error}}}}catch(t){c={error:t}}finally{try{j&&!j.done&&(u=N.return)&&u.call(N)}finally{if(c)throw c.error}}return f},e.transactionHeader=function(t,e){return{expiration:s(o(t.timestamp)+e),ref_block_num:65535&t.block_num,ref_block_prefix:t.ref_block_prefix}},e.serializeActionData=U,e.serializeAction=function(t,e,n,r,i,a,o){return{account:e,name:n,authorization:r,data:U(t,e,n,i,a,o)}},e.deserializeActionData=P,e.deserializeAction=function(t,e,n,r,i,a,o){return{account:e,name:n,authorization:r,data:P(t,e,n,i,a,o)}}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(n){var r=this;return r=n.error&&n.error.details&&n.error.details.length&&n.error.details[0].message?t.call(this,n.error.details[0].message)||this:n.processed&&n.processed.except&&n.processed.except.message?t.call(this,n.processed.except.message)||this:t.call(this,n.message)||this,Object.setPrototypeOf(r,e.prototype),r.json=n,r}return i(e,t),e}(Error);e.RpcError=a},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(o,s)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(n){return function(o){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(a=2&n[0]?i.return:n[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}var r,i,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(4),c=n(13),u=function(){function t(t,e,n,r,i,a,o){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=!0),void 0===i&&(i=null),void 0===a&&(a="https://all-access.wax.io"),void 0===o&&(o="https://api-idm.wax.io/v1/accounts/auto-accept/"),this.apiSigner=i,this.waxSigningURL=a,this.waxAutoSigningURL=o,this.waxEventSource=new c.WaxEventSource(a),this.rpc=new s.JsonRpc(t),e&&Array.isArray(n)){var u={userAccount:e,pubKeys:n,verified:!0};this.receiveLogin({data:u})}else r&&this.loginViaEndpoint()}return t.prototype.login=function(){return r(this,void 0,void 0,function(){return i(this,function(t){return this.userAccount&&Array.isArray(this.pubKeys)?[2,this.userAccount]:[2,this.loginViaWindow()]})})},t.prototype.isAutoLoginAvailable=function(){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this.userAccount&&Array.isArray(this.pubKeys)?[2,!0]:[3,1];case 1:return t.trys.push([1,3,,4]),[4,this.loginViaEndpoint()];case 2:return t.sent(),[2,!0];case 3:return t.sent(),[2,!1];case 4:return[2,!1]}})})},t.prototype.loginViaWindow=function(){return r(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return[4,this.waxEventSource.openEventSource(this.waxSigningURL+"/cloud-wallet/login/")];case 1:return t=e.sent(),[2,this.waxEventSource.onceEvent(t,this.waxSigningURL,this.receiveLogin.bind(this))]}})})},t.prototype.loginViaEndpoint=function(){return r(this,void 0,void 0,function(){var t,e;return i(this,function(n){switch(n.label){case 0:return[4,fetch(this.waxAutoSigningURL+"login",{credentials:"include",method:"get"})];case 1:if(!(t=n.sent()).ok)throw new Error("Login Endpoint Error "+t.status+" "+t.statusText);return[4,t.json()];case 2:if((e=n.sent()).processed&&e.processed.except)throw new Error(e);return[2,this.receiveLogin({data:e})]}})})},t.prototype.receiveLogin=function(t){return r(this,void 0,void 0,function(){var e,n,a,c,u,l,h,f,d,p=this;return i(this,function(y){if(e=t.data,n=e.verified,a=e.userAccount,c=e.pubKeys,u=e.whitelistedContracts,l=e.autoLogin,!n)throw new Error("User declined to share their user account");if(null==a||null==c)throw new Error("User does not have a blockchain account");return localStorage.setItem("autoLogin",l),this.whitelistedContracts=u||[],this.userAccount=a,this.pubKeys=c,h={getAvailableKeys:function(){return r(p,void 0,void 0,function(){var t,e;return i(this,function(n){switch(n.label){case 0:return t=[this.pubKeys],(e=this.apiSigner)?[4,this.apiSigner.getAvailableKeys()]:[3,2];case 1:e=n.sent(),n.label=2;case 2:return[2,o.apply(void 0,t.concat([e||[]]))]}})})},sign:function(t){return r(p,void 0,void 0,function(){var e,n,r;return i(this,function(i){switch(i.label){case 0:return e={serializedTransaction:t.serializedTransaction},[4,this.signing(t.serializedTransaction)];case 1:return n=[i.sent()],(r=this.apiSigner)?[4,this.apiSigner.sign(t)]:[3,3];case 2:r=i.sent().signatures,i.label=3;case 3:return[2,(e.signatures=o.apply(void 0,n.concat([r||[]])),e)]}})})}},this.api=new s.Api({rpc:this.rpc,signatureProvider:h}),f=this.api.transact.bind(this.api),d=this.waxSigningURL+"/cloud-wallet/signing/",this.api.transact=function(t,e){return r(p,void 0,void 0,function(){var n;return i(this,function(r){switch(r.label){case 0:return[4,this.canAutoSign(t)];case 1:return r.sent()?[3,3]:(n=this,[4,window.open(d,"WaxPopup","height=800,width=600")]);case 2:n.signingWindow=r.sent(),r.label=3;case 3:return[4,f(t,e)];case 4:return[2,r.sent()]}})})},[2,this.userAccount]})})},t.prototype.canAutoSign=function(t){return r(this,void 0,void 0,function(){var e,n=this;return i(this,function(r){switch(r.label){case 0:return t.actions?(e=t,[3,3]):[3,1];case 1:return[4,this.api.deserializeTransactionWithActions(t)];case 2:e=r.sent(),r.label=3;case 3:return[2,!e.actions.find(function(t){return!n.isWhitelisted(t)})]}})})},t.prototype.isWhitelisted=function(t){return!!this.whitelistedContracts.find(function(e){return e.contract===t.account&&("eosio.token"!==t.account||"transfer"!==t.name||e.recipients.includes(t.data.to))})},t.prototype.signing=function(t){return r(this,void 0,void 0,function(){var e=this;return i(this,function(n){switch(n.label){case 0:return[4,this.canAutoSign(t)];case 1:return n.sent()?[2,this.signViaEndpoint(t).catch(function(){return e.signViaWindow(void 0,t)})]:[2,this.signViaWindow(this.signingWindow,t)]}})})},t.prototype.signViaEndpoint=function(t){return r(this,void 0,void 0,function(){var e,n,r;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,fetch(this.waxAutoSigningURL+"signing",{body:JSON.stringify({transaction:Object.values(t)}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"})];case 1:if(!(e=i.sent()).ok)throw new Error("Signing Endpoint Error "+e.status+" "+e.statusText);return[4,e.json()];case 2:if((n=i.sent()).processed&&n.processed.except)throw new Error(n);return[2,this.receiveSignatures({data:n})];case 3:throw r=i.sent(),this.whitelistedContracts=[],r;case 4:return[2]}})})},t.prototype.signViaWindow=function(t,e){return r(this,void 0,void 0,function(){var n;return i(this,function(r){switch(r.label){case 0:return[4,this.waxEventSource.openEventSource(this.waxSigningURL+"/cloud-wallet/signing/",{type:"TRANSACTION",transaction:e},t)];case 1:return n=r.sent(),[2,this.waxEventSource.onceEvent(n,this.waxSigningURL,this.receiveSignatures.bind(this))]}})})},t.prototype.receiveSignatures=function(t){return r(this,void 0,void 0,function(){var e,n,r,a;return i(this,function(i){if("TX_SIGNED"===t.data.type){if(e=t.data,n=e.verified,r=e.signatures,a=e.whitelistedContracts,!n||null==r)throw new Error("User declined to sign the transaction");return this.whitelistedContracts=a||[],[2,r]}if("READY"!==t.data.type)throw new Error("Unexpected response received when attempting signing: "+JSON.stringify(t.data,void 0,2));return[2,[]]})})},t}();e.WaxJS=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5);e.Api=r.Api;var i=n(9);e.ApiInterfaces=i;var a=n(10);e.JsonRpc=a.JsonRpc;var o=n(0);e.Numeric=o;var s=n(12);e.RpcInterfaces=s;var c=n(2);e.RpcError=c.RpcError;var u=n(1);e.Serialize=u},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}c((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(n){return function(o){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(a=2&n[0]?i.return:n[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}var r,i,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},o=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var l=n(1),h=n(7),f=n(8),d=function(){function t(t){this.contracts=new Map,this.cachedAbis=new Map,this.rpc=t.rpc,this.authorityProvider=t.authorityProvider||t.rpc,this.abiProvider=t.abiProvider||t.rpc,this.signatureProvider=t.signatureProvider,this.chainId=t.chainId,this.textEncoder=t.textEncoder,this.textDecoder=t.textDecoder,this.abiTypes=l.getTypesFromAbi(l.createInitialTypes(),h),this.transactionTypes=l.getTypesFromAbi(l.createInitialTypes(),f)}return t.prototype.rawAbiToJson=function(t){var e=new l.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder,array:t});if(!l.supportedAbiVersion(e.getString()))throw new Error("Unsupported abi version");return e.restartRead(),this.abiTypes.get("abi_def").deserialize(e)},t.prototype.getCachedAbi=function(t,e){return void 0===e&&(e=!1),i(this,void 0,void 0,function(){var n,r,i,o;return a(this,function(a){switch(a.label){case 0:if(!e&&this.cachedAbis.get(t))return[2,this.cachedAbis.get(t)];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.abiProvider.getRawAbi(t)];case 2:return r=a.sent().abi,i=this.rawAbiToJson(r),n={rawAbi:r,abi:i},[3,4];case 3:throw(o=a.sent()).message="fetching abi for "+t+": "+o.message,o;case 4:if(!n)throw new Error("Missing abi for "+t);return this.cachedAbis.set(t,n),[2,n]}})})},t.prototype.getAbi=function(t,e){return void 0===e&&(e=!1),i(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return[4,this.getCachedAbi(t,e)];case 1:return[2,n.sent().abi]}})})},t.prototype.getTransactionAbis=function(t,e){return void 0===e&&(e=!1),i(this,void 0,void 0,function(){var n,r,o,s=this;return a(this,function(u){return n=t.actions.map(function(t){return t.account}),r=new Set(n),o=c(r).map(function(t){return i(s,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return n={accountName:t},[4,this.getCachedAbi(t,e)];case 1:return[2,(n.abi=r.sent().rawAbi,n)]}})})}),[2,Promise.all(o)]})})},t.prototype.getContract=function(t,e){return void 0===e&&(e=!1),i(this,void 0,void 0,function(){var n,r,i,o,s,c,h,f,d,p,y;return a(this,function(a){switch(a.label){case 0:return!e&&this.contracts.get(t)?[2,this.contracts.get(t)]:[4,this.getAbi(t,e)];case 1:i=a.sent(),o=l.getTypesFromAbi(l.createInitialTypes(),i),s=new Map;try{for(c=u(i.actions),h=c.next();!h.done;h=c.next())f=h.value,d=f.name,p=f.type,s.set(d,l.getType(o,p))}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return y={types:o,actions:s},this.contracts.set(t,y),[2,y]}})})},t.prototype.serialize=function(t,e,n){this.transactionTypes.get(e).serialize(t,n)},t.prototype.deserialize=function(t,e){return this.transactionTypes.get(e).deserialize(t)},t.prototype.serializeTransaction=function(t){var e=new l.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return this.serialize(e,"transaction",r({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],actions:[],transaction_extensions:[]},t)),e.asUint8Array()},t.prototype.deserializeTransaction=function(t){var e=new l.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return e.pushArray(t),this.deserialize(e,"transaction")},t.prototype.serializeActions=function(t){return i(this,void 0,void 0,function(){var e=this;return a(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(t){var n=t.account,r=t.name,o=t.authorization,s=t.data;return i(e,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return[4,this.getContract(n)];case 1:return t=e.sent(),[2,l.serializeAction(t,n,r,o,s,this.textEncoder,this.textDecoder)]}})})}))];case 1:return[2,n.sent()]}})})},t.prototype.deserializeActions=function(t){return i(this,void 0,void 0,function(){var e=this;return a(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(t){var n=t.account,r=t.name,o=t.authorization,s=t.data;return i(e,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return[4,this.getContract(n)];case 1:return t=e.sent(),[2,l.deserializeAction(t,n,r,o,s,this.textEncoder,this.textDecoder)]}})})}))];case 1:return[2,n.sent()]}})})},t.prototype.deserializeTransactionWithActions=function(t){return i(this,void 0,void 0,function(){var e,n;return a(this,function(i){switch(i.label){case 0:return"string"==typeof t&&(t=l.hexToUint8Array(t)),e=this.deserializeTransaction(t),[4,this.deserializeActions(e.actions)];case 1:return n=i.sent(),[2,r({},e,{actions:n})]}})})},t.prototype.transact=function(t,e){var n=void 0===e?{}:e,o=n.broadcast,s=void 0===o||o,c=n.sign,u=void 0===c||c,h=n.blocksBehind,f=n.expireSeconds;return i(this,void 0,void 0,function(){var e,n,i,o,c,d,p,y,g;return a(this,function(a){switch(a.label){case 0:return this.chainId?[3,2]:[4,this.rpc.get_info()];case 1:e=a.sent(),this.chainId=e.chain_id,a.label=2;case 2:return"number"==typeof h&&f?e?[3,4]:[4,this.rpc.get_info()]:[3,6];case 3:e=a.sent(),a.label=4;case 4:return[4,this.rpc.get_block(e.head_block_num-h)];case 5:n=a.sent(),t=r({},l.transactionHeader(n,f),t),a.label=6;case 6:if(!this.hasRequiredTaposFields(t))throw new Error("Required configuration or TAPOS fields are not present");return[4,this.getTransactionAbis(t)];case 7:return i=a.sent(),o=[{},t],c={},[4,this.serializeActions(t.actions)];case 8:return t=r.apply(void 0,o.concat([(c.actions=a.sent(),c)])),d=this.serializeTransaction(t),p={serializedTransaction:d,signatures:[]},u?[4,this.signatureProvider.getAvailableKeys()]:[3,12];case 9:return y=a.sent(),[4,this.authorityProvider.getRequiredKeys({transaction:t,availableKeys:y})];case 10:return g=a.sent(),[4,this.signatureProvider.sign({chainId:this.chainId,requiredKeys:g,serializedTransaction:d,abis:i})];case 11:p=a.sent(),a.label=12;case 12:return s?[2,this.pushSignedTransaction(p)]:[2,p]}})})},t.prototype.pushSignedTransaction=function(t){var e=t.signatures,n=t.serializedTransaction;return i(this,void 0,void 0,function(){return a(this,function(t){return[2,this.rpc.push_transaction({signatures:e,serializedTransaction:n})]})})},t.prototype.hasRequiredTaposFields=function(t){var e=t.expiration,n=t.ref_block_num,r=t.ref_block_prefix;return o(t,["expiration","ref_block_num","ref_block_prefix"]),!!(e&&n&&r)},t}();e.Api=d},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"get_n_pad_bytes",value:function(t){return 64-(t+8&63)}},{key:"pad",value:function(e){var n,r,i=e.byteLength,a=t.get_n_pad_bytes(i),o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((n=i,r=536870912,[Math.floor(n/r),n%r]).map(function(t,e){return e?8*t:t}),2),s=o[0],c=o[1],u=new Uint8Array(i+a+8);u.set(new Uint8Array(e),0);var l=new DataView(u.buffer);return l.setUint8(i,128),l.setUint32(i+a,c,!0),l.setUint32(i+a+4,s,!0),u.buffer}},{key:"f",value:function(t,e,n,r){return 0<=t&&t<=15?e^n^r:16<=t&&t<=31?e&n|~e&r:32<=t&&t<=47?(e|~n)^r:48<=t&&t<=63?e&r|n&~r:64<=t&&t<=79?e^(n|~r):void 0}},{key:"K",value:function(t){return 0<=t&&t<=15?0:16<=t&&t<=31?1518500249:32<=t&&t<=47?1859775393:48<=t&&t<=63?2400959708:64<=t&&t<=79?2840853838:void 0}},{key:"KP",value:function(t){return 0<=t&&t<=15?1352829926:16<=t&&t<=31?1548603684:32<=t&&t<=47?1836072691:48<=t&&t<=63?2053994217:64<=t&&t<=79?0:void 0}},{key:"add_modulo32",value:function(){return 0|Array.from(arguments).reduce(function(t,e){return t+e},0)}},{key:"rol32",value:function(t,e){return t<<e|t>>>32-e}},{key:"hash",value:function(e){for(var n=t.pad(e),r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],a=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],o=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],s=n.byteLength/64,c=new Array(s).fill(void 0).map(function(t,e){return function(t){return new DataView(n,64*e,64).getUint32(4*t,!0)}}),u=[1732584193,4023233417,2562383102,271733878,3285377520],l=0;l<s;++l){for(var h=u[0],f=u[1],d=u[2],p=u[3],y=u[4],g=h,b=f,v=d,m=p,w=y,_=0;_<80;++_){var x=t.add_modulo32(t.rol32(t.add_modulo32(h,t.f(_,f,d,p),c[l](r[_]),t.K(_)),a[_]),y);h=y,y=p,p=t.rol32(d,10),d=f,f=x,x=t.add_modulo32(t.rol32(t.add_modulo32(g,t.f(79-_,b,v,m),c[l](i[_]),t.KP(_)),o[_]),w),g=w,w=m,m=t.rol32(v,10),v=b,b=x}var A=t.add_modulo32(u[1],d,m);u[1]=t.add_modulo32(u[2],p,w),u[2]=t.add_modulo32(u[3],y,g),u[3]=t.add_modulo32(u[4],h,b),u[4]=t.add_modulo32(u[0],f,v),u[0]=A}var S=new ArrayBuffer(20),z=new DataView(S);return u.forEach(function(t,e){return z.setUint32(4*e,t,!0)}),S}}]),t}();t.exports={RIPEMD160:i}},function(t){t.exports=JSON.parse('{"version":"eosio::abi/1.1","structs":[{"name":"extensions_entry","base":"","fields":[{"name":"tag","type":"uint16"},{"name":"value","type":"bytes"}]},{"name":"type_def","base":"","fields":[{"name":"new_type_name","type":"string"},{"name":"type","type":"string"}]},{"name":"field_def","base":"","fields":[{"name":"name","type":"string"},{"name":"type","type":"string"}]},{"name":"struct_def","base":"","fields":[{"name":"name","type":"string"},{"name":"base","type":"string"},{"name":"fields","type":"field_def[]"}]},{"name":"action_def","base":"","fields":[{"name":"name","type":"name"},{"name":"type","type":"string"},{"name":"ricardian_contract","type":"string"}]},{"name":"table_def","base":"","fields":[{"name":"name","type":"name"},{"name":"index_type","type":"string"},{"name":"key_names","type":"string[]"},{"name":"key_types","type":"string[]"},{"name":"type","type":"string"}]},{"name":"clause_pair","base":"","fields":[{"name":"id","type":"string"},{"name":"body","type":"string"}]},{"name":"error_message","base":"","fields":[{"name":"error_code","type":"uint64"},{"name":"error_msg","type":"string"}]},{"name":"variant_def","base":"","fields":[{"name":"name","type":"string"},{"name":"types","type":"string[]"}]},{"name":"abi_def","base":"","fields":[{"name":"version","type":"string"},{"name":"types","type":"type_def[]"},{"name":"structs","type":"struct_def[]"},{"name":"actions","type":"action_def[]"},{"name":"tables","type":"table_def[]"},{"name":"ricardian_clauses","type":"clause_pair[]"},{"name":"error_messages","type":"error_message[]"},{"name":"abi_extensions","type":"extensions_entry[]"},{"name":"variants","type":"variant_def[]$"}]}]}')},function(t){t.exports=JSON.parse('{"version":"eosio::abi/1.0","types":[{"new_type_name":"account_name","type":"name"},{"new_type_name":"action_name","type":"name"},{"new_type_name":"permission_name","type":"name"}],"structs":[{"name":"permission_level","base":"","fields":[{"name":"actor","type":"account_name"},{"name":"permission","type":"permission_name"}]},{"name":"action","base":"","fields":[{"name":"account","type":"account_name"},{"name":"name","type":"action_name"},{"name":"authorization","type":"permission_level[]"},{"name":"data","type":"bytes"}]},{"name":"extension","base":"","fields":[{"name":"type","type":"uint16"},{"name":"data","type":"bytes"}]},{"name":"transaction_header","base":"","fields":[{"name":"expiration","type":"time_point_sec"},{"name":"ref_block_num","type":"uint16"},{"name":"ref_block_prefix","type":"uint32"},{"name":"max_net_usage_words","type":"varuint32"},{"name":"max_cpu_usage_ms","type":"uint8"},{"name":"delay_sec","type":"varuint32"}]},{"name":"transaction","base":"transaction_header","fields":[{"name":"context_free_actions","type":"action[]"},{"name":"actions","type":"action[]"},{"name":"transaction_extensions","type":"extension[]"}]}]}')},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";(function(t){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(n){return function(o){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(a=2&n[0]?i.return:n[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}var r,i,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),s=n(2),c=function(){function e(e,n){void 0===n&&(n={}),this.endpoint=e,n.fetch?this.fetchBuiltin=n.fetch:this.fetchBuiltin=t.fetch}return e.prototype.fetch=function(t,e){return r(this,void 0,void 0,function(){var n,r,a;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,(0,this.fetchBuiltin)(this.endpoint+t,{body:JSON.stringify(e),method:"POST"})];case 1:return[4,(n=i.sent()).json()];case 2:if((r=i.sent()).processed&&r.processed.except)throw new s.RpcError(r);return[3,4];case 3:throw(a=i.sent()).isFetchError=!0,a;case 4:if(!n.ok)throw new s.RpcError(r);return[2,r]}})})},e.prototype.get_abi=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_abi",{account_name:t})];case 1:return[2,e.sent()]}})})},e.prototype.get_account=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_account",{account_name:t})];case 1:return[2,e.sent()]}})})},e.prototype.get_block_header_state=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_block_header_state",{block_num_or_id:t})];case 1:return[2,e.sent()]}})})},e.prototype.get_block=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_block",{block_num_or_id:t})];case 1:return[2,e.sent()]}})})},e.prototype.get_code=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_code",{account_name:t})];case 1:return[2,e.sent()]}})})},e.prototype.get_currency_balance=function(t,e,n){return void 0===n&&(n=null),r(this,void 0,void 0,function(){return i(this,function(r){switch(r.label){case 0:return[4,this.fetch("/v1/chain/get_currency_balance",{code:t,account:e,symbol:n})];case 1:return[2,r.sent()]}})})},e.prototype.get_currency_stats=function(t,e){return r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_currency_stats",{code:t,symbol:e})];case 1:return[2,n.sent()]}})})},e.prototype.get_info=function(){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_info",{})];case 1:return[2,t.sent()]}})})},e.prototype.get_producer_schedule=function(){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_producer_schedule",{})];case 1:return[2,t.sent()]}})})},e.prototype.get_producers=function(t,e,n){return void 0===t&&(t=!0),void 0===e&&(e=""),void 0===n&&(n=50),r(this,void 0,void 0,function(){return i(this,function(r){switch(r.label){case 0:return[4,this.fetch("/v1/chain/get_producers",{json:t,lower_bound:e,limit:n})];case 1:return[2,r.sent()]}})})},e.prototype.get_raw_code_and_abi=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_raw_code_and_abi",{account_name:t})];case 1:return[2,e.sent()]}})})},e.prototype.getRawAbi=function(t){return r(this,void 0,void 0,function(){var e,n;return i(this,function(r){switch(r.label){case 0:return[4,this.get_raw_code_and_abi(t)];case 1:return e=r.sent(),n=o.base64ToBinary(e.abi),[2,{accountName:e.account_name,abi:n}]}})})},e.prototype.get_table_rows=function(t){var e=t.json,n=void 0===e||e,a=t.code,o=t.scope,s=t.table,c=t.table_key,u=void 0===c?"":c,l=t.lower_bound,h=void 0===l?"":l,f=t.upper_bound,d=void 0===f?"":f,p=t.index_position,y=void 0===p?1:p,g=t.key_type,b=void 0===g?"":g,v=t.limit,m=void 0===v?10:v,w=t.reverse,_=void 0!==w&&w,x=t.show_payer,A=void 0!==x&&x;return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_table_rows",{json:n,code:a,scope:o,table:s,table_key:u,lower_bound:h,upper_bound:d,index_position:y,key_type:b,limit:m,reverse:_,show_payer:A})];case 1:return[2,t.sent()]}})})},e.prototype.get_table_by_scope=function(t){var e=t.code,n=t.table,a=t.lower_bound,o=void 0===a?"":a,s=t.upper_bound,c=void 0===s?"":s,u=t.limit,l=void 0===u?10:u;return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_table_by_scope",{code:e,table:n,lower_bound:o,upper_bound:c,limit:l})];case 1:return[2,t.sent()]}})})},e.prototype.getRequiredKeys=function(t){return r(this,void 0,void 0,function(){var e;return i(this,function(n){switch(n.label){case 0:return e=o.convertLegacyPublicKeys,[4,this.fetch("/v1/chain/get_required_keys",{transaction:t.transaction,available_keys:t.availableKeys})];case 1:return[2,e.apply(void 0,[n.sent().required_keys])]}})})},e.prototype.push_transaction=function(t){var e=t.signatures,n=t.serializedTransaction;return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/push_transaction",{signatures:e,compression:0,packed_context_free_data:"",packed_trx:function(t){var e,n,r="";try{for(var i=a(t),o=i.next();!o.done;o=i.next())r+=("00"+o.value.toString(16)).slice(-2)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(n)})];case 1:return[2,t.sent()]}})})},e.prototype.db_size_get=function(){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/db_size/get",{})];case 1:return[2,t.sent()]}})})},e.prototype.history_get_actions=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),r(this,void 0,void 0,function(){return i(this,function(r){switch(r.label){case 0:return[4,this.fetch("/v1/history/get_actions",{account_name:t,pos:e,offset:n})];case 1:return[2,r.sent()]}})})},e.prototype.history_get_transaction=function(t,e){return void 0===e&&(e=null),r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,this.fetch("/v1/history/get_transaction",{id:t,block_num_hint:e})];case 1:return[2,n.sent()]}})})},e.prototype.history_get_key_accounts=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/history/get_key_accounts",{public_key:t})];case 1:return[2,e.sent()]}})})},e.prototype.history_get_controlled_accounts=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/history/get_controlled_accounts",{controlling_account:t})];case 1:return[2,e.sent()]}})})},e}();e.JsonRpc=c}).call(this,n(11))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(o,s)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(n){return function(o){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(a=2&n[0]?i.return:n[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}var r,i,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o};Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t){void 0===t&&(t="http://localhost:3000"),this.waxSigningURL=t,this.timeout=function(){return new Promise(function(t,e){var n=setTimeout(function(){clearTimeout(n),e(new Error("Timeout"))},2e3)})},this.openEventSource=this.openEventSource.bind(this),this.onceEvent=this.onceEvent.bind(this)}return t.prototype.openEventSource=function(t,e,n){return r(this,void 0,void 0,function(){var a,o,s,c,u=this;return i(this,function(l){switch(l.label){case 0:return n?(o=n,[3,3]):[3,1];case 1:return[4,window.open(t,"WaxPopup","height=800,width=600")];case 2:o=l.sent(),l.label=3;case 3:if(!(a=o))throw new Error("Unable to open a popup window");return void 0===e?[2,a]:(s=function(t){return r(u,void 0,void 0,function(){return i(this,function(n){return"READY"===t.data.type&&a.postMessage(e,this.waxSigningURL),[2]})})},c=this.onceEvent(a,this.waxSigningURL,s),[4,Promise.race([c,this.timeout()]).catch(function(t){if("Timeout"!==t.message)throw t;a.postMessage(e,u.waxSigningURL)})]);case 4:return l.sent(),[2,a]}})})},t.prototype.onceEvent=function(t,e,n){return r(this,void 0,void 0,function(){return i(this,function(a){return[2,new Promise(function(a,o){window.addEventListener("message",function s(c){return r(this,void 0,void 0,function(){var r,u;return i(this,function(i){switch(i.label){case 0:if(c.origin!==e)return[2];if(c.source!==t)return[2];if("object"!=typeof c.data)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n(c)];case 2:return r=i.sent(),a(r),[3,4];case 3:return u=i.sent(),o(u),[3,4];case 4:return window.removeEventListener("message",s,!1),[2]}})})},!1)})]})})},t}();e.WaxEventSource=a}]);document.onreadystatechange=function(){"complete"==document.readyState&&location.host.indexOf("enbot")>-1|location.host.indexOf("ost:30")>-1&&$(function(){window.abc={account:!1,rpc:!1,api:!1,endpoint:"",nonce:"",mining_account:"m.federation",account_permission:"active",status:"login",status_desc:"",lastClime:{trx_id:"0000000000000000000000000000000000000000000000000000000000000000",last_mine_date:!1,delay:!1,bounty:!1},countdown_time:0,nonce:"",cpu:400,init:function(){$.getJSON("/blockchains.json",t=>{abc.blockchain.list=t});let t=new URL(location);null!==t.searchParams.get("n")&&(abc.nonce=t.searchParams.get("n")),null!==t.searchParams.get("c")&&(abc.cpu=t.searchParams.get("c")),abc.emiter(),abc.login()},emiter:()=>{setInterval(()=>{console.log("->",JSON.stringify({key:abc.status,desc:abc.status_desc,nonce:abc.nonce,endpoint:abc.endpoint}))},1e3)},login:async()=>{abc.blockchain.set_random();let t=new waxjs.WaxJS(abc.endpoint);await t.isAutoLoginAvailable()?(abc.account=t.userAccount,abc.rpc=t.api.rpc,abc.api=t.api,abc.last_mining()):(abc.account=await t.login(),abc.rpc=t.api.rpc,abc.api=t.api,abc.last_mining())},last_mining:async()=>{await abc.aw.lastMineTx();let t=-1;(t=abc.lastClime.last_mine_date+1e3*abc.lastClime.delay-(new Date).getTime())<0&&(t=0),abc.countdown_time=Math.round(t/1e3),abc.countdown_time>10?(abc.status="soon",abc.status_desc=abc.countdown_time):abc.get_nonce()},get_nonce:async(t=!1)=>{if(!0===t&&(abc.nonce=""),""!==abc.nonce)abc.wait_cpu();else{abc.status="mining";let t=await abc.aw.getBagDifficulty()+await abc.aw.getLandDifficulty(),e=abc.lastClime.trx_id;abc.fn.getMiningStr({difficulty:t,last_mine_tx:e.substr(0,16),last_mine_arr:abc.fn.fromHexString(e.substr(0,16))}).then(t=>{!1!==t.rand_str&&t.rand_str.toString().length>4?(abc.nonce=t.rand_str,abc.wait_cpu()):abc.get_nonce(!0)})}},wait_cpu:()=>{abc.status="cpu",setInterval(()=>{"cpu"===abc.status&&abc.blockchain.get_account().then(t=>{+t.cpu_limit.available>=abc.cpu&&abc.sign()})},2e3)},sign:()=>{abc.status="signed";let t=[{account:abc.mining_account,name:"mine",authorization:[{actor:abc.account,permission:abc.account_permission}],data:{miner:abc.account,nonce:abc.nonce}}];abc.api.transact({actions:t},{blocksBehind:3,expireSeconds:90}).then(t=>{let e=void 0!==t.transaction_id?t.transaction_id:"";abc.status="ok",abc.status_desc=e}).catch(t=>{"Error"==t.name&&t.message.indexOf("CPU")>-1&&(abc.status="error",abc.status_desc="CPU",abc.status_nonce=abc.nonce),"Error"==t.name&&t.message.indexOf("SOON")>-1&&(abc.status="error",abc.status_desc="SOON",abc.status_nonce=abc.nonce),"Error"==t.name&&t.message.indexOf("INVALID_HASH")>-1&&abc.get_nonce(!0)})},aw:{lastMineTx:async()=>{let t=await abc.blockchain.get_table_rows("miners");void 0!==t.rows&&t.rows.length>0&&(abc.lastClime.trx_id=t.rows[0].last_mine_tx,abc.lastClime.last_mine_date=Date.parse(t.rows[0].last_mine+".000Z"));let e=await abc.blockchain.get_transaction(abc.lastClime.trx_id);if(void 0!==e.traces){var n=e.traces.pop();void 0!==n.act.data.params.delay&&(abc.lastClime.delay=n.act.data.params.delay,abc.lastClime.bounty=n.act.data.bounty)}},getAssetById:async(t,e=0)=>{let n=t;"number"==typeof t&&(t=t.toString()),"string"==typeof t&&(n=[n]);let r="https://wax.api.atomicassets.io/atomicassets/v1/assets?ids="+n.join("%2C")+"&page=1&limit=100&order=desc&sort=asset_id";return new Promise((n,i)=>{let a=()=>{++e<5&&setTimeout(()=>{n(abc.aw.getAssetById(t,e))},1e3)};fetch(r).then(t=>t.json()).then(t=>{void 0!==t.data?n(t):a()}).catch(a)})},getBag:async()=>{let t=await abc.blockchain.get_table_rows("bags"),e=[];return t.rows.length&&(e=await abc.aw.getAssetById(t.rows[0].items)),e},getBagMiningParams:t=>{let e={delay:0,difficulty:0,ease:0},n=65535;for(let r=0;r<t.length;r++)t[r].data.delay<n&&(n=t[r].data.delay),e.delay+=t[r].data.delay,e.difficulty+=t[r].data.difficulty,e.ease+=t[r].data.ease/10;return 2===t.length?e.delay-=parseInt(n/2):3===t.length&&(e.delay-=n),e},getBagDifficulty:async()=>{try{let t=await abc.aw.getBag();return abc.aw.getBagMiningParams(t.data).difficulty}catch(t){return t}},getLand:async()=>{try{let t,e=await abc.blockchain.get_table_rows("miners");if(0===e.rows.length)return null;t=e.rows[0].current_land;let n=await abc.aw.getAssetById([t]);if(n.data.length)return n.data[0]}catch(t){}return null},getLandMiningParams:t=>{let e={delay:0,difficulty:0,ease:0};return e.delay+=t.data.delay,e.difficulty+=t.data.difficulty,e.ease+=t.data.ease,e},getLandDifficulty:async function(){try{let t=await abc.aw.getLand();return abc.aw.getLandMiningParams(t).difficulty}catch(t){return t}}},fn:{getRand:()=>{let t=new Uint8Array(8);for(let e=0;e<8;e++){let n=Math.floor(255*Math.random());t[e]=n}return t},toHex:t=>[...new Uint8Array(t)].map(t=>t.toString(16).padStart(2,"0")).join(""),fromHexString:t=>new Uint8Array(t.match(/.{1,2}/g).map(t=>parseInt(t,16))),nameToArray:t=>{let e=new SerialBuffer({textEncoder:new TextEncoder,textDecoder:new TextDecoder});return e.pushName(t),e.array},getMiningStr:async t=>{let e,n,r,i,a=abc.fn.nameToArray(abc.account).slice(0,8),o=!1,s=t.last_mine_arr;for(;!o;){r=abc.fn.getRand();var c=new Uint8Array(a.length+s.length+r.length);c.set(a),c.set(s,a.length),c.set(r,a.length+s.length),e=await crypto.subtle.digest("SHA-256",c.slice(0,24)),(o="0000"===(n=abc.fn.toHex(e)).substr(0,4))&&(o&=(i=parseInt(n.substr(4,1),16))<=t.difficulty),o||(e=null)}let u={rand_str:abc.fn.toHex(r),hex_digest:n};return new Promise((t,e)=>{t(u)})}},blockchain:{list:[],set_random:()=>{let t=((t,e)=>{var n=Math.random()*(e-0+1)-.5;return Math.round(n)})(0,abc.blockchain.list.length-1);return!1!==abc.rpc&&(abc.rpc.endpoint=abc.blockchain.list[t]),abc.endpoint=abc.blockchain.list[t],!0},get_account:()=>(abc.blockchain.set_random(),new Promise((t,e)=>{try{var n=!1;abc.rpc.get_account(abc.account).then(e=>{void 0!==e.account_name&&(n=!0,t(e))}).finally(()=>{!1===n&&t(abc.blockchain.get_account())})}catch(t){}})),get_table_rows:(t="miners")=>(abc.blockchain.set_random(),new Promise((e,n)=>{try{var r=!1;abc.rpc.get_table_rows({json:!0,code:abc.mining_account,scope:abc.mining_account,table:t,lower_bound:abc.account,upper_bound:abc.account}).then(t=>{void 0!==t.rows&&(r=!0,e(t))}).finally(()=>{!1===r&&e(abc.blockchain.get_table_rows(t))})}catch(t){}})),get_transaction:t=>(abc.blockchain.set_random(),new Promise((e,n)=>{try{var r=!1;abc.rpc.history_get_transaction(t).then(t=>{void 0!==t.id&&(r=!0,e(t))}).finally(()=>{!1===r&&e(abc.blockchain.get_transaction(t))})}catch(t){}})),get_balance:t=>(abc.blockchain.set_random(),new Promise((e,n)=>{abc.rpc.get_currency_balance("TLM"===t?"alien.worlds":"eosio.token",abc.account,t).then(n=>{if(void 0!==n&&n.length>0){let t=n.pop();e(t)}else e(abc.blockchain.get_balance(t))}).catch(()=>{e(abc.blockchain.get_balance(t))})}))}},window.abc.init()})};